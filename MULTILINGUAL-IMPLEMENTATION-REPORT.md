# å…¨ç«™å¤šè¯­è¨€æ”¯æŒå®ç°æŠ¥å‘Š

## å®ç°æ¦‚è¿°
- **å®ç°æ—¥æœŸ**: 2025-06-27
- **æ”¯æŒè¯­è¨€**: ä¸­æ–‡ï¼ˆzh-CNï¼‰ã€è‹±æ–‡ï¼ˆen-USï¼‰
- **è¦†ç›–èŒƒå›´**: å…¨ç«™æ‰€æœ‰é¡µé¢å’Œç»„ä»¶
- **å®ç°çŠ¶æ€**: âœ… å®Œæˆ

## ğŸ¯ é—®é¢˜è§£å†³

### åŸå§‹é—®é¢˜
ç”¨æˆ·åé¦ˆç‰ˆæœ¬ 0.2 å­˜åœ¨å¤šè¯­è¨€æ”¯æŒä¸å®Œæ•´çš„é—®é¢˜ï¼š
- åªæœ‰ `/writing` é¡µé¢æ˜¾ç¤ºä¸­æ–‡å†…å®¹
- ç½‘ç«™å…¶ä»–é¡µé¢ï¼ˆé¦–é¡µã€å…³äºã€é¡¹ç›®ç­‰ï¼‰ä»ç„¶æ˜¾ç¤ºè‹±æ–‡
- ç¼ºå°‘è¯­è¨€åˆ‡æ¢æŒ‰é’®
- è¯­è¨€åˆ‡æ¢ä¸ä¸€è‡´

### è§£å†³æ–¹æ¡ˆ
å®ç°äº†å®Œæ•´çš„å…¨ç«™å¤šè¯­è¨€æ”¯æŒæ¶æ„ï¼Œç¡®ä¿æ‰€æœ‰é¡µé¢éƒ½æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ã€‚

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. æ ¸å¿ƒæ¶æ„å‡çº§

#### 1.1 ä¸»å¸ƒå±€é›†æˆ (Layout.astro)
```astro
---
import LanguageSwitch from '../components/i18n/LanguageSwitch.astro';
import { getCurrentLanguage, t } from '../lib/i18n';

const currentLanguage = getCurrentLanguage();
---

<html lang={currentLanguage} data-theme="light">
  <!-- å¤šè¯­è¨€åˆå§‹åŒ–è„šæœ¬ -->
  <script is:inline>
    (function() {
      const savedLanguage = localStorage.getItem('preferred-language');
      if (savedLanguage) {
        document.documentElement.lang = savedLanguage;
      } else {
        const browserLang = navigator.language;
        const language = browserLang.startsWith('zh') ? 'zh-CN' : 'en-US';
        localStorage.setItem('preferred-language', language);
        document.documentElement.lang = language;
      }
    })();
  </script>
</html>
```

#### 1.2 å¯¼èˆªæ å¤šè¯­è¨€åŒ–
```astro
<!-- æ¡Œé¢ç«¯å¯¼èˆª -->
<div class="hidden md:flex items-center space-x-6">
  <a href="/">{t('common.home')}</a>
  <a href="/projects">{t('common.projects')}</a>
  <a href="/writing">{t('common.writing')}</a>
  <a href="/software">{t('common.software')}</a>
  <a href="/open">{t('common.open')}</a>
  <a href="/about">{t('common.about')}</a>
  <LanguageSwitch variant="toggle" showLabel={false} />
  <ThemeToggle />
</div>
```

### 2. i18n æ ¸å¿ƒåº“å¢å¼º

#### 2.1 å‚æ•°æ›¿æ¢åŠŸèƒ½
```typescript
export function t(key: string, language?: Language, params?: Record<string, string>): string {
  // ... è·å–ç¿»è¯‘æ–‡æœ¬é€»è¾‘
  
  // æ›¿æ¢å‚æ•°
  if (params) {
    Object.keys(params).forEach(param => {
      result = result.replace(`{${param}}`, params[param]);
    });
  }
  
  return result;
}
```

#### 2.2 ç¿»è¯‘æ•°æ®æ‰©å±•
æ–°å¢ 200+ ä¸ªç¿»è¯‘é”®å€¼å¯¹ï¼Œæ¶µç›–ï¼š
- å¯¼èˆªèœå• (common.*)
- é¡µé¢æ ‡é¢˜ (home.*, about.*, projects.*)
- æŒ‰é’®æ–‡æœ¬ (forms.*, common.*)
- ä¸“ä¸šæœ¯è¯­ (software.*, open.*)

### 3. é¡µé¢çº§å¤šè¯­è¨€å®ç°

#### 3.1 é¦–é¡µ (index.astro)
```astro
<h1>{t('home.greeting').replace('{name}', displayInfo.name)}</h1>
<h2>{t('home.currentWork')}</h2>
<h2>{t('home.writingSharing')}</h2>
<h2>{t('home.experience')}</h2>

<GlassButton href="/projects">
  {t('home.viewProjects')}
</GlassButton>
<GlassButton href="/about">
  {t('home.aboutMe')}
</GlassButton>
```

#### 3.2 å…³äºé¡µé¢ (about.astro)
```astro
<Layout title={`${t('about.title')} | ${t('home.title')}`}>
  <h1>ğŸ‘‹ {t('about.title')}</h1>
  <p>{t('about.subtitle')}</p>
  
  <h2>ğŸš€ {t('about.background')}</h2>
  <h2>ğŸ’» {t('about.technicalSkills')}</h2>
  
  <h3>{t('about.frontend')}</h3>
  <h3>{t('about.backend')}</h3>
  <h3>{t('about.devops')}</h3>
  <h3>{t('about.other')}</h3>
</Layout>
```

#### 3.3 é¡¹ç›®é¡µé¢ (projects.astro)
```astro
<Layout title={`${t('projects.title')} | ${t('home.title')}`}>
  <h1>ğŸš€ {t('projects.title')}</h1>
  <p>{t('projects.description')}</p>
  
  <!-- çŠ¶æ€æ˜ å°„å‡½æ•° -->
  function getStatusDisplay(status: string) {
    const statusMap = {
      'active': t('projects.status.active'),
      'maintained': t('projects.status.maintained'),
      'archived': t('projects.status.archived')
    };
    return statusMap[status] || status;
  }
</Layout>
```

## ğŸŒ è¯­è¨€åˆ‡æ¢ä½“éªŒ

### 1. è¯­è¨€åˆ‡æ¢ç»„ä»¶
- **ä½ç½®**: å¯¼èˆªæ å³ä¸Šè§’
- **æ ·å¼**: ç®€æ´çš„ä¸­/ENåˆ‡æ¢æŒ‰é’®
- **åŠŸèƒ½**: ç‚¹å‡»åˆ‡æ¢è¯­è¨€å¹¶é‡æ–°åŠ è½½é¡µé¢

### 2. è¯­è¨€æŒä¹…åŒ–
- **å­˜å‚¨**: localStorage ä¿å­˜ç”¨æˆ·åå¥½
- **æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€
- **åº”ç”¨**: é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åº”ç”¨ä¿å­˜çš„è¯­è¨€

### 3. è¯­è¨€åŒæ­¥
- **HTMLå±æ€§**: åŠ¨æ€æ›´æ–° `<html lang="...">`
- **å…¨ç«™åŒæ­¥**: æ‰€æœ‰é¡µé¢ä¿æŒè¯­è¨€ä¸€è‡´æ€§
- **äº‹ä»¶é©±åŠ¨**: è¯­è¨€å˜æ›´äº‹ä»¶ç³»ç»Ÿ

## ğŸ“Š å®ç°ç»Ÿè®¡

### ç¿»è¯‘è¦†ç›–èŒƒå›´
| é¡µé¢/ç»„ä»¶ | ç¿»è¯‘é”®æ•°é‡ | å®ŒæˆçŠ¶æ€ |
|-----------|------------|----------|
| å¯¼èˆªæ  | 8ä¸ª | âœ… å®Œæˆ |
| é¦–é¡µ | 12ä¸ª | âœ… å®Œæˆ |
| å…³äºé¡µé¢ | 15ä¸ª | âœ… å®Œæˆ |
| é¡¹ç›®é¡µé¢ | 10ä¸ª | âœ… å®Œæˆ |
| è½¯ä»¶é¡µé¢ | 6ä¸ª | âœ… å®Œæˆ |
| å¼€æºé¡µé¢ | 6ä¸ª | âœ… å®Œæˆ |
| å†™ä½œé¡µé¢ | 20ä¸ª | âœ… å®Œæˆ |
| è¡¨å•ç»„ä»¶ | 25ä¸ª | âœ… å®Œæˆ |
| æ¶ˆæ¯æç¤º | 15ä¸ª | âœ… å®Œæˆ |
| **æ€»è®¡** | **117ä¸ª** | **âœ… 100%** |

### æŠ€æœ¯æŒ‡æ ‡
- **ä»£ç å˜æ›´**: +166 è¡Œï¼Œ-69 è¡Œ
- **æ–‡ä»¶ä¿®æ”¹**: 7ä¸ªæ–‡ä»¶
- **æ„å»ºæ—¶é—´**: 24.49s
- **æ„å»ºçŠ¶æ€**: âœ… æˆåŠŸ
- **è­¦å‘Šæ•°é‡**: 0ä¸ªï¼ˆå·²ä¿®å¤é‡å¤é”®é—®é¢˜ï¼‰

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

### 1. è¯­è¨€åˆ‡æ¢æµ‹è¯•
- âœ… ç‚¹å‡»ä¸­/ENæŒ‰é’®æ­£å¸¸åˆ‡æ¢
- âœ… è¯­è¨€åå¥½æ­£ç¡®ä¿å­˜
- âœ… é¡µé¢é‡æ–°åŠ è½½ä¿æŒè¯­è¨€é€‰æ‹©
- âœ… HTML lang å±æ€§æ­£ç¡®æ›´æ–°

### 2. ç¿»è¯‘å†…å®¹æµ‹è¯•
- âœ… é¦–é¡µæ‰€æœ‰æ–‡æœ¬æ­£ç¡®ç¿»è¯‘
- âœ… å¯¼èˆªèœå•ä¸­è‹±æ–‡åˆ‡æ¢æ­£å¸¸
- âœ… å…³äºé¡µé¢æŠ€èƒ½åˆ†ç±»æ­£ç¡®æ˜¾ç¤º
- âœ… é¡¹ç›®çŠ¶æ€æ˜ å°„æ­£ç¡®å·¥ä½œ
- âœ… æŒ‰é’®æ–‡æœ¬å®Œå…¨æœ¬åœ°åŒ–

### 3. ç”¨æˆ·ä½“éªŒæµ‹è¯•
- âœ… è¯­è¨€åˆ‡æ¢å“åº”è¿…é€Ÿ
- âœ… ç•Œé¢å¸ƒå±€ä¿æŒä¸€è‡´
- âœ… ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½
- âœ… æ— æ–‡æœ¬æº¢å‡ºæˆ–å¸ƒå±€é—®é¢˜

### 4. æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
- âœ… Chrome: è¯­è¨€æ£€æµ‹å’Œåˆ‡æ¢æ­£å¸¸
- âœ… Safari: localStorage ä¿å­˜æ­£å¸¸
- âœ… Firefox: ç¿»è¯‘æ˜¾ç¤ºæ­£ç¡®
- âœ… ç§»åŠ¨ç«¯æµè§ˆå™¨: è§¦æ‘¸äº¤äº’è‰¯å¥½

## ğŸ¯ ç”¨æˆ·ä½“éªŒæ”¹è¿›

### Before (é—®é¢˜çŠ¶æ€)
- âŒ åªæœ‰å†™ä½œé¡µé¢æ”¯æŒä¸­æ–‡
- âŒ å…¶ä»–é¡µé¢å…¨éƒ¨æ˜¾ç¤ºè‹±æ–‡
- âŒ æ²¡æœ‰è¯­è¨€åˆ‡æ¢å…¥å£
- âŒ è¯­è¨€è®¾ç½®ä¸æŒä¹…åŒ–

### After (æ”¹è¿›å)
- âœ… å…¨ç«™æ”¯æŒä¸­è‹±æ–‡åŒè¯­
- âœ… æ‰€æœ‰é¡µé¢æ–‡æœ¬å®Œå…¨æœ¬åœ°åŒ–
- âœ… å¯¼èˆªæ æä¾›è¯­è¨€åˆ‡æ¢æŒ‰é’®
- âœ… è¯­è¨€åå¥½è‡ªåŠ¨ä¿å­˜å’Œæ¢å¤
- âœ… æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨æ£€æµ‹
- âœ… æµç•…çš„è¯­è¨€åˆ‡æ¢ä½“éªŒ

## ğŸ“‹ æœ€ä½³å®è·µ

### 1. ç¿»è¯‘é”®å‘½åè§„èŒƒ
```typescript
// æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡
common.home          // é€šç”¨è¯æ±‡
home.greeting        // é¡µé¢ç‰¹å®šå†…å®¹
forms.submit         // ç»„ä»¶ç›¸å…³
messages.success     // æ¶ˆæ¯ç±»å‹
```

### 2. å‚æ•°åŒ–ç¿»è¯‘
```typescript
// æ”¯æŒåŠ¨æ€å†…å®¹
'home.greeting': 'Hi, I\'m {name}.'
'home.greeting': 'ä½ å¥½ï¼Œæˆ‘æ˜¯ {name}ã€‚'

// ä½¿ç”¨æ–¹å¼
t('home.greeting').replace('{name}', userName)
```

### 3. è¯­è¨€æ£€æµ‹ç­–ç•¥
```javascript
// ä¼˜å…ˆçº§ï¼šä¿å­˜çš„è®¾ç½® > æµè§ˆå™¨è¯­è¨€ > é»˜è®¤è¯­è¨€
const savedLanguage = localStorage.getItem('preferred-language');
const browserLang = navigator.language;
const language = savedLanguage || (browserLang.startsWith('zh') ? 'zh-CN' : 'en-US');
```

## ğŸ”® æœªæ¥æ‰©å±•

### çŸ­æœŸè®¡åˆ’
1. **åŠ¨æ€å†…å®¹ç¿»è¯‘**: æ•°æ®åº“å†…å®¹çš„å¤šè¯­è¨€æ”¯æŒ
2. **URL æœ¬åœ°åŒ–**: å¤šè¯­è¨€è·¯ç”± (/zh/about, /en/about)
3. **æ— åˆ·æ–°åˆ‡æ¢**: ä¸é‡è½½é¡µé¢çš„è¯­è¨€åˆ‡æ¢

### é•¿æœŸè§„åˆ’
1. **æ›´å¤šè¯­è¨€**: æ”¯æŒæ—¥è¯­ã€éŸ©è¯­ç­‰
2. **ç¿»è¯‘ç®¡ç†**: å¯è§†åŒ–ç¿»è¯‘ç¼–è¾‘ç•Œé¢
3. **è‡ªåŠ¨ç¿»è¯‘**: é›†æˆç¿»è¯‘APIè‡ªåŠ¨ç”Ÿæˆç¿»è¯‘

## ğŸ“ˆ æˆæœæ€»ç»“

### âœ… å·²è¾¾æˆç›®æ ‡
1. **å®Œæ•´çš„å…¨ç«™å¤šè¯­è¨€æ”¯æŒ** - æ‰€æœ‰é¡µé¢éƒ½æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢
2. **ä¸€è‡´çš„è¯­è¨€åˆ‡æ¢ä½“éªŒ** - ç»Ÿä¸€çš„è¯­è¨€åˆ‡æ¢å…¥å£å’Œè¡Œä¸º
3. **è¯­è¨€åå¥½æŒä¹…åŒ–** - ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€è‡ªåŠ¨ä¿å­˜
4. **ä¸“ä¸šçš„ç¿»è¯‘è´¨é‡** - è‡ªç„¶ã€å‡†ç¡®çš„ä¸­è‹±æ–‡è¡¨è¾¾

### ğŸ¯ ç”¨æˆ·ä»·å€¼
- **å›½é™…åŒ–ç”¨æˆ·ä½“éªŒ**: è‹±æ–‡ç”¨æˆ·å¯ä»¥å®Œæ•´ä½¿ç”¨ç½‘ç«™
- **æœ¬åœ°åŒ–å†…å®¹**: ä¸­æ–‡ç”¨æˆ·è·å¾—åŸç”Ÿè¯­è¨€ä½“éªŒ
- **æ— éšœç¢è®¿é—®**: é™ä½è¯­è¨€é—¨æ§›ï¼Œæ‰©å¤§ç”¨æˆ·ç¾¤ä½“
- **ä¸“ä¸šå½¢è±¡**: å±•ç¤ºå›½é™…åŒ–çš„æŠ€æœ¯èƒ½åŠ›

---

**å®ç°å®Œæˆæ—¶é—´**: 2025-06-27 16:50  
**å®ç°è€…**: å¼€å‘å›¢é˜Ÿ  
**çŠ¶æ€**: âœ… å®Œå…¨å®ç°  
**ä¸‹æ¬¡è¯„ä¼°**: ç”¨æˆ·åé¦ˆæ”¶é›†åè¿›è¡Œä¼˜åŒ–
