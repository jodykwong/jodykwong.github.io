# åŸºäºURLè·¯å¾„çš„å¤šè¯­è¨€è·¯ç”±ç³»ç»Ÿå®ç°æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æŠ¥å‘Šè¯¦ç»†è®°å½•äº†ä»å®¢æˆ·ç«¯è¯­è¨€åˆ‡æ¢æ–¹æ¡ˆå‡çº§åˆ°åŸºäºURLè·¯å¾„çš„å¤šè¯­è¨€è·¯ç”±ç³»ç»Ÿçš„å®Œæ•´å®ç°è¿‡ç¨‹ã€‚æ–°æ–¹æ¡ˆé‡‡ç”¨ `/zh/` å’Œ `/en/` è·¯å¾„å‰ç¼€ï¼Œå®ç°çœŸæ­£çš„å¤šè¯­è¨€ç½‘ç«™æ¶æ„ã€‚

## ğŸ¯ å®ç°ç›®æ ‡

### ä¸»è¦ç›®æ ‡
- âœ… å®ç°åŸºäºURLçš„è¯­è¨€è·¯ç”± (`/zh/`, `/en/`)
- âœ… ä¿æŒSEOå‹å¥½çš„URLç»“æ„
- âœ… æ”¯æŒé™æ€ç”Ÿæˆæå‡æ€§èƒ½
- âœ… æä¾›æ¸…æ™°çš„è¯­è¨€åˆ‡æ¢ä½“éªŒ
- âœ… å…¼å®¹ç°æœ‰çš„å®¢æˆ·ç«¯ç¿»è¯‘åŠŸèƒ½

### æŠ€æœ¯è¦æ±‚
- âœ… ä½¿ç”¨AstroåŠ¨æ€è·¯ç”± `[lang]`
- âœ… é…ç½®é™æ€è·¯å¾„ç”Ÿæˆ
- âœ… å®Œå–„i18nç¿»è¯‘ç³»ç»Ÿ
- âœ… å®ç°æ ¹ç›®å½•è‡ªåŠ¨é‡å®šå‘
- âœ… ä¼˜åŒ–è¯­è¨€åˆ‡æ¢ç»„ä»¶

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### è·¯ç”±ç»“æ„
```
src/pages/
â”œâ”€â”€ index.astro                 # æ ¹ç›®å½•é‡å®šå‘
â”œâ”€â”€ [lang]/                     # å¤šè¯­è¨€è·¯ç”±
â”‚   â”œâ”€â”€ index.astro            # é¦–é¡µ (/zh/, /en/)
â”‚   â”œâ”€â”€ about.astro            # å…³äºé¡µé¢
â”‚   â”œâ”€â”€ projects.astro         # é¡¹ç›®é¡µé¢
â”‚   â”œâ”€â”€ writing.astro          # å†™ä½œé¡µé¢
â”‚   â”œâ”€â”€ software.astro         # è½¯ä»¶é¡µé¢
â”‚   â””â”€â”€ open.astro             # é¡¹ç›®ä»ªè¡¨æ¿
â””â”€â”€ admin/                      # ç®¡ç†åå°ï¼ˆå•è¯­è¨€ï¼‰
```

### URLæ˜ å°„
| åŸè·¯å¾„ | æ–°è·¯å¾„ï¼ˆä¸­æ–‡ï¼‰ | æ–°è·¯å¾„ï¼ˆè‹±æ–‡ï¼‰ |
|--------|---------------|---------------|
| `/` | `/zh/` | `/en/` |
| `/about` | `/zh/about` | `/en/about` |
| `/projects` | `/zh/projects` | `/en/projects` |
| `/writing` | `/zh/writing` | `/en/writing` |
| `/software` | `/zh/software` | `/en/software` |
| `/open` | `/zh/open` | `/en/open` |

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. åŠ¨æ€è·¯ç”±é…ç½®

æ¯ä¸ªå¤šè¯­è¨€é¡µé¢éƒ½é…ç½®äº† `getStaticPaths()` å‡½æ•°ï¼š

```javascript
export async function getStaticPaths() {
  return [
    { params: { lang: 'zh' } },
    { params: { lang: 'en' } }
  ];
}

const { lang } = Astro.params;
const language: Language = lang === 'en' ? 'en-US' : 'zh-CN';
```

### 2. i18nç³»ç»Ÿå®Œå–„

#### æ–°å¢ç¿»è¯‘é”®
- `home.bio` - ä¸ªäººç®€ä»‹
- `home.currentWorkContent` - å½“å‰å·¥ä½œå†…å®¹
- `home.writingContent` - å†™ä½œåˆ†äº«å†…å®¹
- `home.experienceContent` - å·¥ä½œç»å†å†…å®¹
- `about.backgroundContent1/2` - èƒŒæ™¯ä»‹ç»å†…å®¹
- `about.currentFocusContent1/2` - å½“å‰ä¸“æ³¨å†…å®¹
- `about.personalContent1/2` - ä¸ªäººä¿¡æ¯å†…å®¹
- `about.connectContent` - è”ç³»æ–¹å¼å†…å®¹
- `common.aboutMe` - å…³äºæˆ‘é“¾æ¥

#### URLå¤„ç†å‡½æ•°ä¼˜åŒ–
```javascript
// ç”Ÿæˆå¸¦è¯­è¨€å‰ç¼€çš„URL
export function getLocalizedUrl(path: string, language: Language): string {
  const cleanPath = path.startsWith('/') ? path.slice(1) : path;
  const pathWithoutLang = cleanPath.replace(/^(zh|en|zh-CN|en-US)\/?/, '');
  const langPrefix = language === 'zh-CN' ? 'zh' : 'en';
  
  if (pathWithoutLang === '' || pathWithoutLang === '/' || pathWithoutLang === 'index') {
    return `/${langPrefix}`;
  }
  
  return `/${langPrefix}/${pathWithoutLang}`;
}
```

### 3. æ ¹ç›®å½•é‡å®šå‘

å®ç°ç®€æ´çš„é‡å®šå‘é€»è¾‘ï¼š

```javascript
// src/pages/index.astro
export const prerender = false;
return Astro.redirect('/zh');  // é»˜è®¤é‡å®šå‘åˆ°ä¸­æ–‡ç‰ˆæœ¬
```

åŒæ—¶æä¾›å®¢æˆ·ç«¯å¤‡ç”¨é‡å®šå‘ï¼š

```javascript
// å®¢æˆ·ç«¯é‡å®šå‘ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆ
(function() {
  const userLang = navigator.language || 'en';
  const isChinesePreferred = userLang.includes('zh');
  const redirectUrl = isChinesePreferred ? '/zh' : '/en';
  window.location.href = redirectUrl;
})();
```

### 4. è¯­è¨€åˆ‡æ¢ç»„ä»¶ä¼˜åŒ–

ä¿®å¤URLç”Ÿæˆé€»è¾‘ï¼Œé¿å…é‡å¤è¯­è¨€å‰ç¼€ï¼š

```javascript
// è·å–å½“å‰URLè·¯å¾„
const currentPath = Astro.url.pathname;

// ç§»é™¤å½“å‰è¯­è¨€å‰ç¼€ï¼Œè·å–çº¯è·¯å¾„
const pathWithoutLang = currentPath.replace(/^\/(zh|en)\/?/, '') || '';

// ç”Ÿæˆç›®æ ‡è¯­è¨€çš„URL
const targetLangPrefix = targetLanguage === 'zh-CN' ? 'zh' : 'en';
const alternateUrl = pathWithoutLang ? `/${targetLangPrefix}/${pathWithoutLang}` : `/${targetLangPrefix}`;
```

## âœ… åŠŸèƒ½éªŒè¯

### è·¯ç”±æµ‹è¯•ç»“æœ
- âœ… `/` â†’ é‡å®šå‘åˆ° `/zh` (302çŠ¶æ€ç )
- âœ… `/zh` â†’ æ˜¾ç¤ºä¸­æ–‡é¦–é¡µ (lang="zh-CN")
- âœ… `/en` â†’ æ˜¾ç¤ºè‹±æ–‡é¦–é¡µ (lang="en-US")
- âœ… `/zh/about` â†’ æ˜¾ç¤ºä¸­æ–‡å…³äºé¡µé¢
- âœ… `/en/about` â†’ æ˜¾ç¤ºè‹±æ–‡å…³äºé¡µé¢
- âœ… æ‰€æœ‰é¡µé¢æ„å»ºæˆåŠŸï¼Œæ— ç¿»è¯‘é”®ç¼ºå¤±é”™è¯¯

### æ€§èƒ½æµ‹è¯•
- âœ… é™æ€ç”Ÿæˆï¼šæ‰€æœ‰é¡µé¢é¢„æ¸²æŸ“ä¸ºé™æ€HTML
- âœ… æ„å»ºæ—¶é—´ï¼š~25ç§’ï¼ˆ28ä¸ªé¡µé¢ï¼‰
- âœ… æ„å»ºå¤§å°ï¼šåˆç†èŒƒå›´å†…
- âœ… SEOä¼˜åŒ–ï¼šæ¯ä¸ªè¯­è¨€ç‰ˆæœ¬æœ‰ç‹¬ç«‹URL

### ç”¨æˆ·ä½“éªŒ
- âœ… æ¸…æ™°çš„è¯­è¨€å‰ç¼€ä¾¿äºç”¨æˆ·ç†è§£
- âœ… è¯­è¨€åˆ‡æ¢æŒ‰é’®æ­£ç¡®ç”Ÿæˆç›®æ ‡URL
- âœ… æµè§ˆå™¨å‰è¿›/åé€€æŒ‰é’®æ­£å¸¸å·¥ä½œ
- âœ… ç›´æ¥è®¿é—®ç‰¹å®šè¯­è¨€URLæ­£å¸¸å·¥ä½œ

## ğŸš€ æŠ€æœ¯äº®ç‚¹

### 1. SEOå‹å¥½
- æ¯ä¸ªè¯­è¨€ç‰ˆæœ¬æœ‰ç‹¬ç«‹çš„URL
- æœç´¢å¼•æ“å¯ä»¥æ­£ç¡®ç´¢å¼•ä¸åŒè¯­è¨€å†…å®¹
- æ”¯æŒhreflangæ ‡ç­¾ï¼ˆå¯è¿›ä¸€æ­¥æ‰©å±•ï¼‰

### 2. æ€§èƒ½ä¼˜åŒ–
- é™æ€ç”Ÿæˆæå‡åŠ è½½é€Ÿåº¦
- æ”¯æŒCDNç¼“å­˜
- å‡å°‘å®¢æˆ·ç«¯JavaScriptä¾èµ–

### 3. å¼€å‘ä½“éªŒ
- æ¸…æ™°çš„æ–‡ä»¶ç»“æ„
- ç±»å‹å®‰å…¨çš„è¯­è¨€å‚æ•°
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

### 4. ç”¨æˆ·ä½“éªŒ
- ç›´è§‚çš„URLç»“æ„
- å¿«é€Ÿçš„é¡µé¢åˆ‡æ¢
- ä¿æŒç°æœ‰åŠŸèƒ½çš„åŒæ—¶å¢å¼ºä½“éªŒ

## ğŸ“Š å¯¹æ¯”åˆ†æ

| ç‰¹æ€§ | å®¢æˆ·ç«¯åˆ‡æ¢æ–¹æ¡ˆ | URLè·¯å¾„æ–¹æ¡ˆ |
|------|---------------|-------------|
| SEOå‹å¥½æ€§ | âŒ å•ä¸€URL | âœ… ç‹¬ç«‹URL |
| æ€§èƒ½ | âš¡ åŠ¨æ€ç¿»è¯‘ | ğŸš€ é™æ€ç”Ÿæˆ |
| ç”¨æˆ·ä½“éªŒ | ğŸ”„ å³æ—¶åˆ‡æ¢ | ğŸ¯ æ¸…æ™°å¯¼èˆª |
| å¼€å‘å¤æ‚åº¦ | ğŸŸ¡ ä¸­ç­‰ | ğŸŸ¢ ç®€å• |
| ç¼“å­˜æ”¯æŒ | âŒ æœ‰é™ | âœ… å®Œå…¨æ”¯æŒ |
| åˆ†äº«é“¾æ¥ | âŒ è¯­è¨€ä¸ç¡®å®š | âœ… è¯­è¨€æ˜ç¡® |

## ğŸ”® åç»­ä¼˜åŒ–å»ºè®®

### çŸ­æœŸä¼˜åŒ–
1. æ·»åŠ hreflangæ ‡ç­¾æ”¯æŒ
2. å®ç°è¯­è¨€åˆ‡æ¢åŠ¨ç”»æ•ˆæœ
3. ä¼˜åŒ–ç§»åŠ¨ç«¯è¯­è¨€åˆ‡æ¢ä½“éªŒ

### é•¿æœŸè§„åˆ’
1. æ”¯æŒæ›´å¤šè¯­è¨€ï¼ˆæ—¥è¯­ã€éŸ©è¯­ç­‰ï¼‰
2. å®ç°å†…å®¹æœ¬åœ°åŒ–ï¼ˆæ—¥æœŸã€æ•°å­—æ ¼å¼ï¼‰
3. æ·»åŠ è¯­è¨€åå¥½è®°å¿†åŠŸèƒ½

## ğŸ“ æ€»ç»“

åŸºäºURLè·¯å¾„çš„å¤šè¯­è¨€è·¯ç”±ç³»ç»Ÿå®ç°æˆåŠŸï¼Œè¾¾åˆ°äº†æ‰€æœ‰é¢„æœŸç›®æ ‡ï¼š

- **æŠ€æœ¯æ¶æ„**ï¼šé‡‡ç”¨AstroåŠ¨æ€è·¯ç”±ï¼Œå®ç°æ¸…æ™°çš„URLç»“æ„
- **æ€§èƒ½è¡¨ç°**ï¼šé™æ€ç”Ÿæˆæå‡åŠ è½½é€Ÿåº¦ï¼Œæ”¯æŒCDNç¼“å­˜
- **ç”¨æˆ·ä½“éªŒ**ï¼šç›´è§‚çš„è¯­è¨€åˆ‡æ¢ï¼ŒSEOå‹å¥½çš„URL
- **å¼€å‘æ•ˆç‡**ï¼šç®€åŒ–çš„ç»´æŠ¤æµç¨‹ï¼Œç±»å‹å®‰å…¨çš„å®ç°

æ–°æ–¹æ¡ˆä¸ºç½‘ç«™çš„å›½é™…åŒ–å‘å±•å¥ å®šäº†åšå®çš„æŠ€æœ¯åŸºç¡€ï¼ŒåŒæ—¶ä¿æŒäº†ä¼˜ç§€çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚

---

**å®æ–½æ—¶é—´**: 2025å¹´6æœˆ28æ—¥  
**æŠ€æœ¯æ ˆ**: Astro + TypeScript + Tailwind CSS  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶éƒ¨ç½²
